{"ast":null,"code":"// Copyright (c) 2015 Uber Technologies, Inc.\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n'use strict';\n\nvar PI = Math.PI;\nvar pow = Math.pow;\nvar tan = Math.tan;\nvar log = Math.log;\nvar atan = Math.atan;\nvar exp = Math.exp;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\n\nfunction radians(value) {\n  return value * DEGREES_TO_RADIANS;\n}\n\nfunction degrees(value) {\n  return value * RADIANS_TO_DEGREES;\n} // see: https://en.wikipedia.org/wiki/Web_Mercator\n\n\nfunction ViewportMercator(opts) {\n  var scale = (opts.tileSize || 512) * 0.5 / PI * pow(2, opts.zoom);\n  var lamda = radians(opts.longitude);\n  var phi = radians(opts.latitude);\n  var x = scale * (lamda + PI);\n  var y = scale * (PI - log(tan(PI * 0.25 + phi * 0.5)));\n  var offsetX = opts.width * 0.5 - x;\n  var offsetY = opts.height * 0.5 - y;\n\n  function project(lnglat2) {\n    var lamda2 = lnglat2[0] * DEGREES_TO_RADIANS;\n    var phi2 = lnglat2[1] * DEGREES_TO_RADIANS;\n    var x2 = scale * (lamda2 + PI);\n    var y2 = scale * (PI - log(tan(PI * 0.25 + phi2 * 0.5)));\n    return [x2 + offsetX, y2 + offsetY];\n  }\n\n  function unproject(xy) {\n    var x2 = xy[0] - offsetX;\n    var y2 = xy[1] - offsetY;\n    var lamda2 = x2 / scale - PI;\n    var phi2 = 2 * (atan(exp(PI - y2 / scale)) - PI * 0.25);\n    return [degrees(lamda2), degrees(phi2)];\n  }\n\n  function contains(lnglat2) {\n    var xy = project(lnglat2);\n    var x = xy[0];\n    var y = xy[1];\n    return x >= 0 && x <= opts.width && y >= 0 && y <= opts.height;\n  }\n\n  return {\n    project: project,\n    unproject: unproject,\n    contains: contains\n  };\n}\n\nmodule.exports = ViewportMercator;","map":{"version":3,"sources":["C:/Users/HorchiAbla/Desktop/dashboard1/node_modules/viewport-mercator-project/index.js"],"names":["PI","Math","pow","tan","log","atan","exp","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","radians","value","degrees","ViewportMercator","opts","scale","tileSize","zoom","lamda","longitude","phi","latitude","x","y","offsetX","width","offsetY","height","project","lnglat2","lamda2","phi2","x2","y2","unproject","xy","contains","module","exports"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,EAAE,GAAGC,IAAI,CAACD,EAAd;AACA,IAAIE,GAAG,GAAGD,IAAI,CAACC,GAAf;AACA,IAAIC,GAAG,GAAGF,IAAI,CAACE,GAAf;AACA,IAAIC,GAAG,GAAGH,IAAI,CAACG,GAAf;AACA,IAAIC,IAAI,GAAGJ,IAAI,CAACI,IAAhB;AACA,IAAIC,GAAG,GAAGL,IAAI,CAACK,GAAf;AACA,IAAIC,kBAAkB,GAAGP,EAAE,GAAG,GAA9B;AACA,IAAIQ,kBAAkB,GAAG,MAAMR,EAA/B;;AACA,SAASS,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,SAAOA,KAAK,GAAGH,kBAAf;AACD;;AACD,SAASI,OAAT,CAAiBD,KAAjB,EAAwB;AACtB,SAAOA,KAAK,GAAGF,kBAAf;AACD,C,CACD;;;AACA,SAASI,gBAAT,CAA0BC,IAA1B,EAAgC;AAC9B,MAAIC,KAAK,GAAG,CAACD,IAAI,CAACE,QAAL,IAAiB,GAAlB,IAAyB,GAAzB,GAA+Bf,EAA/B,GAAoCE,GAAG,CAAC,CAAD,EAAIW,IAAI,CAACG,IAAT,CAAnD;AACA,MAAIC,KAAK,GAAGR,OAAO,CAACI,IAAI,CAACK,SAAN,CAAnB;AACA,MAAIC,GAAG,GAAGV,OAAO,CAACI,IAAI,CAACO,QAAN,CAAjB;AACA,MAAIC,CAAC,GAAGP,KAAK,IAAIG,KAAK,GAAGjB,EAAZ,CAAb;AACA,MAAIsB,CAAC,GAAGR,KAAK,IAAId,EAAE,GAAGI,GAAG,CAACD,GAAG,CAACH,EAAE,GAAG,IAAL,GAAYmB,GAAG,GAAG,GAAnB,CAAJ,CAAZ,CAAb;AACA,MAAII,OAAO,GAAGV,IAAI,CAACW,KAAL,GAAa,GAAb,GAAmBH,CAAjC;AACA,MAAII,OAAO,GAAGZ,IAAI,CAACa,MAAL,GAAc,GAAd,GAAoBJ,CAAlC;;AAEA,WAASK,OAAT,CAAiBC,OAAjB,EAA0B;AACxB,QAAIC,MAAM,GAAGD,OAAO,CAAC,CAAD,CAAP,GAAarB,kBAA1B;AACA,QAAIuB,IAAI,GAAGF,OAAO,CAAC,CAAD,CAAP,GAAarB,kBAAxB;AACA,QAAIwB,EAAE,GAAGjB,KAAK,IAAIe,MAAM,GAAG7B,EAAb,CAAd;AACA,QAAIgC,EAAE,GAAGlB,KAAK,IAAId,EAAE,GAAGI,GAAG,CAACD,GAAG,CAACH,EAAE,GAAG,IAAL,GAAY8B,IAAI,GAAG,GAApB,CAAJ,CAAZ,CAAd;AACA,WAAO,CAACC,EAAE,GAAGR,OAAN,EAAeS,EAAE,GAAGP,OAApB,CAAP;AACD;;AAED,WAASQ,SAAT,CAAmBC,EAAnB,EAAuB;AACrB,QAAIH,EAAE,GAAGG,EAAE,CAAC,CAAD,CAAF,GAAQX,OAAjB;AACA,QAAIS,EAAE,GAAGE,EAAE,CAAC,CAAD,CAAF,GAAQT,OAAjB;AACA,QAAII,MAAM,GAAGE,EAAE,GAAGjB,KAAL,GAAad,EAA1B;AACA,QAAI8B,IAAI,GAAG,KAAKzB,IAAI,CAACC,GAAG,CAACN,EAAE,GAAGgC,EAAE,GAAGlB,KAAX,CAAJ,CAAJ,GAA6Bd,EAAE,GAAG,IAAvC,CAAX;AACA,WAAO,CAACW,OAAO,CAACkB,MAAD,CAAR,EAAkBlB,OAAO,CAACmB,IAAD,CAAzB,CAAP;AACD;;AAED,WAASK,QAAT,CAAkBP,OAAlB,EAA2B;AACzB,QAAIM,EAAE,GAAGP,OAAO,CAACC,OAAD,CAAhB;AACA,QAAIP,CAAC,GAAGa,EAAE,CAAC,CAAD,CAAV;AACA,QAAIZ,CAAC,GAAGY,EAAE,CAAC,CAAD,CAAV;AACA,WACEb,CAAC,IAAI,CAAL,IAAUA,CAAC,IAAIR,IAAI,CAACW,KAApB,IACAF,CAAC,IAAI,CADL,IACUA,CAAC,IAAIT,IAAI,CAACa,MAFtB;AAID;;AAED,SAAO;AAACC,IAAAA,OAAO,EAAEA,OAAV;AAAmBM,IAAAA,SAAS,EAAEA,SAA9B;AAAyCE,IAAAA,QAAQ,EAAEA;AAAnD,GAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBzB,gBAAjB","sourcesContent":["// Copyright (c) 2015 Uber Technologies, Inc.\n\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n'use strict';\n\nvar PI = Math.PI;\nvar pow = Math.pow;\nvar tan = Math.tan;\nvar log = Math.log;\nvar atan = Math.atan;\nvar exp = Math.exp;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nfunction radians(value) {\n  return value * DEGREES_TO_RADIANS;\n}\nfunction degrees(value) {\n  return value * RADIANS_TO_DEGREES;\n}\n// see: https://en.wikipedia.org/wiki/Web_Mercator\nfunction ViewportMercator(opts) {\n  var scale = (opts.tileSize || 512) * 0.5 / PI * pow(2, opts.zoom);\n  var lamda = radians(opts.longitude);\n  var phi = radians(opts.latitude);\n  var x = scale * (lamda + PI);\n  var y = scale * (PI - log(tan(PI * 0.25 + phi * 0.5)));\n  var offsetX = opts.width * 0.5 - x;\n  var offsetY = opts.height * 0.5 - y;\n\n  function project(lnglat2) {\n    var lamda2 = lnglat2[0] * DEGREES_TO_RADIANS;\n    var phi2 = lnglat2[1] * DEGREES_TO_RADIANS;\n    var x2 = scale * (lamda2 + PI);\n    var y2 = scale * (PI - log(tan(PI * 0.25 + phi2 * 0.5)));\n    return [x2 + offsetX, y2 + offsetY];\n  }\n\n  function unproject(xy) {\n    var x2 = xy[0] - offsetX;\n    var y2 = xy[1] - offsetY;\n    var lamda2 = x2 / scale - PI;\n    var phi2 = 2 * (atan(exp(PI - y2 / scale)) - PI * 0.25);\n    return [degrees(lamda2), degrees(phi2)];\n  }\n\n  function contains(lnglat2) {\n    var xy = project(lnglat2);\n    var x = xy[0];\n    var y = xy[1];\n    return (\n      x >= 0 && x <= opts.width &&\n      y >= 0 && y <= opts.height\n    );\n  }\n\n  return {project: project, unproject: unproject, contains: contains};\n}\n\nmodule.exports = ViewportMercator;\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HorchiAbla\\\\Desktop\\\\dashboard1\\\\src\\\\pages\\\\partners\\\\PartnersCSV.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from '@material-ui/core/Button';\nimport { parse } from \"papaparse\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport config from '../config.json'; // import {csv} from \"d3\";\n\nconst TestCSV = () => {\n  _s();\n\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const [data, setData] = React.useState({\n    error: '',\n    data: [],\n    result: [],\n    error: null\n  });\n  const StyledTableCell = withStyles(theme => ({\n    head: {\n      backgroundColor: theme.palette.common.white,\n      color: theme.palette.common.black\n    },\n    body: {\n      fontSize: 14\n    }\n  }))(TableCell);\n  const StyledTableRow = withStyles(theme => ({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.action.hover\n      }\n    }\n  }))(TableRow);\n\n  const addArray = () => {\n    axios.post(`${config.URL}/restaurants/Multiadd`, data.result).then(res => {\n      console.log(\"add done\");\n    }).catch(error => {\n      console.log(\" problem in posting \" + error);\n    });\n  };\n\n  const onDrop = e => {\n    e.preventDefault();\n    console.log(e.dataTransfer.files);\n    Array.from(e.dataTransfer.files).filter(files => files.type === \"application/vnd.ms-excel\").forEach(async file => {\n      const text = await file.text();\n      const donner = parse(text);\n      let arrayy = [];\n      let postdata = [];\n\n      for (let i = 1; i < donner.data.length; i++) {\n        arrayy.push(donner.data[i]);\n        const postarry = {\n          \"partnerName\": donner.data[i][1],\n          \"partnerMail\": donner.data[i][2],\n          \"partnerPhone\": donner.data[i][3],\n          \"Paiement\": donner.data[i][4],\n          \"description\": donner.data[i][5],\n          \"address\": donner.data[i][6],\n          \"site Web\": donner.data[i][7],\n          \"latitude\": donner.data[i][8],\n          \"longitude\": donner.data[i][9],\n          \"Type\": donner.data[i][10],\n          \"commission rate\": donner.data[i][11],\n          \"logourl\": donner.data[i][12],\n          \"image\": donner.data[i][13],\n          \"discount\": donner.data[i][14]\n        };\n        postdata.push(postarry);\n      }\n\n      console.log(\"les data sont\", arrayy);\n      setData({ ...data,\n        data: arrayy,\n        result: postdata\n      });\n      await localStorage.setItem('result', donner.data);\n    });\n  };\n\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 400,\n      marginTop: 20\n    }\n  });\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginLeft: \"20px\"\n      },\n      children: \" Import offers from CSV\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      style: {\n        backgroundColor: \"#008037\",\n        marginLeft: \"20px\"\n      },\n      onDragOver: e => {\n        e.preventDefault();\n      },\n      onDrop: e => {\n        onDrop(e);\n        console.log(\"data est :\", data.data);\n      },\n      onClick: () => {\n        addArray();\n      },\n      children: \" import file CSV \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"paper\", {\n        children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            className: classes.table,\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"partnerId\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"partnerName\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"partnerMail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"partnerPhone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"Paiement\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"site Web\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"latitude\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"longitude\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"commission rate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"logourl\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                  children: \"discount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: data.data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(item => {\n                return /*#__PURE__*/_jsxDEV(StyledTableRow, {\n                  hover: true,\n                  role: \"checkbox\",\n                  children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    children: item[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[1]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[2]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[3]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[4]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[5]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[6]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[7]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[8]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 170,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[9]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[10]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[11]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[12]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[13]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[14]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[15]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n                    align: \"right\",\n                    children: item[16]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 41\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n          rowsPerPageOptions: [10, 25, 100],\n          component: \"div\",\n          count: data.data.length,\n          rowsPerPage: rowsPerPage,\n          page: page,\n          onChangePage: handleChangePage,\n          onChangeRowsPerPage: handleChangeRowsPerPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 102,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TestCSV, \"tdMz328J7fLKa0zHqaX9aOdNWRc=\", true);\n\n_c = TestCSV;\nexport default TestCSV;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestCSV\");","map":{"version":3,"sources":["C:/Users/HorchiAbla/Desktop/dashboard1/src/pages/partners/PartnersCSV.js"],"names":["React","useState","useEffect","Button","parse","Table","TableBody","TableCell","TableHead","withStyles","makeStyles","TableRow","Paper","TableContainer","TablePagination","config","TestCSV","page","setPage","rowsPerPage","setRowsPerPage","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","data","setData","error","result","StyledTableCell","theme","head","backgroundColor","palette","common","white","color","black","body","fontSize","StyledTableRow","root","action","hover","addArray","axios","post","URL","then","res","console","log","catch","onDrop","e","preventDefault","dataTransfer","files","Array","from","filter","type","forEach","file","text","donner","arrayy","postdata","i","length","push","postarry","localStorage","setItem","useStyles","table","minWidth","marginTop","classes","marginLeft","slice","map","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport { parse } from \"papaparse\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport config from '../config.json';\r\n// import {csv} from \"d3\";\r\nconst TestCSV = () => {\r\n\r\n    \r\n\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    const [data, setData] = React.useState({\r\n        error: '',\r\n        data: [],\r\n        result: [],\r\n        error: null,\r\n\r\n    });\r\n    const StyledTableCell = withStyles((theme) => ({\r\n        head: {\r\n            backgroundColor: theme.palette.common.white,\r\n            color: theme.palette.common.black,\r\n        },\r\n        body: {\r\n            fontSize: 14,\r\n        },\r\n    }))(TableCell);\r\n    const StyledTableRow = withStyles((theme) => ({\r\n        root: {\r\n            '&:nth-of-type(odd)': {\r\n                backgroundColor: theme.palette.action.hover,\r\n            },\r\n        },\r\n    }))(TableRow);\r\n\r\n    const addArray = () => {\r\n        axios.post(`${config.URL}/restaurants/Multiadd`, data.result)\r\n          .then((res) => {\r\n            console.log(\"add done\");\r\n          })\r\n          .catch(error => {\r\n            console.log(\" problem in posting \" + error)\r\n    \r\n          });\r\n    \r\n      }\r\n    const onDrop = (e) => {\r\n        e.preventDefault();\r\n        console.log(e.dataTransfer.files);\r\n        Array.from(e.dataTransfer.files).filter(\r\n            (files) => files.type === \"application/vnd.ms-excel\"\r\n        ).forEach(async (file) => {\r\n            const text = await file.text();\r\n            const donner = parse(text)\r\n            let arrayy = []\r\n            let postdata=[]\r\n            for (let i = 1; i < donner.data.length; i++) {\r\n               arrayy.push(donner.data[i])\r\n               const postarry= {\"partnerName\": donner.data[i][1],\"partnerMail\":donner.data[i][2],\"partnerPhone\":donner.data[i][3],\"Paiement\":donner.data[i][4], \"description\":donner.data[i][5],\"address\":donner.data[i][6], \"site Web\":donner.data[i][7],\"latitude\":donner.data[i][8], \"longitude\":donner.data[i][9],  \"Type\":donner.data[i][10],  \"commission rate\":donner.data[i][11],  \"logourl\":donner.data[i][12], \"image\":donner.data[i][13], \"discount\":donner.data[i][14]  }\r\n               postdata.push(postarry)\r\n            }\r\n            console.log(\"les data sont\", arrayy);\r\n            setData({\r\n                ...data,\r\n                data: arrayy,\r\n                result: postdata\r\n            })\r\n            await localStorage.setItem('result',donner.data)\r\n        });\r\n    }\r\n\r\n\r\n\r\n    const useStyles = makeStyles({\r\n        table: {\r\n            minWidth: 400,\r\n            marginTop: 20,\r\n        },\r\n    });\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div>\r\n            <h3 style={{ marginLeft: \"20px\" }} > Import offers from CSV</h3>\r\n            <Button\r\n                style={{ backgroundColor: \"#008037\", marginLeft: \"20px\" }}\r\n\r\n\r\n                onDragOver={(e) => {\r\n                    e.preventDefault();\r\n\r\n                }}\r\n                onDrop={(e) => { onDrop(e); console.log(\"data est :\",data.data)\r\n                }}\r\n                onClick={() =>{addArray()}}\r\n\r\n\r\n            > import file CSV </Button>\r\n            <div>\r\n                <paper>\r\n                    <TableContainer>\r\n                        <Table className={classes.table}>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <StyledTableCell>partnerId</StyledTableCell>\r\n                                    <StyledTableCell>partnerName</StyledTableCell>\r\n                                    <StyledTableCell>partnerMail</StyledTableCell>\r\n                                    <StyledTableCell>partnerPhone</StyledTableCell>\r\n                                    <StyledTableCell>Paiement</StyledTableCell>\r\n                                    <StyledTableCell>description</StyledTableCell>\r\n                                    <StyledTableCell>address</StyledTableCell>\r\n                                    <StyledTableCell>site Web</StyledTableCell>\r\n                                    <StyledTableCell>latitude</StyledTableCell>\r\n                                    <StyledTableCell>longitude</StyledTableCell>\r\n                                    <StyledTableCell>Type</StyledTableCell>\r\n                                    <StyledTableCell>commission rate</StyledTableCell>\r\n                                    <StyledTableCell>logourl</StyledTableCell>\r\n                                    <StyledTableCell>image</StyledTableCell>\r\n                                    <StyledTableCell>discount</StyledTableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                            {data.data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((item) => {\r\n                                    return (\r\n                                        <StyledTableRow hover role=\"checkbox\">\r\n                                            <StyledTableCell >\r\n                                                {item[0]}\r\n\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[1]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[2]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[3]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[4]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[5]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[6]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[7]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[8]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[9]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[10]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[11]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[12]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[13]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[14]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[15]}\r\n                                            </StyledTableCell >\r\n                                            <StyledTableCell align=\"right\">\r\n                                                {item[16]}\r\n                                            </StyledTableCell >\r\n                                            \r\n                                            \r\n                            \r\n\r\n                                        </StyledTableRow>\r\n                                    )\r\n                                })\r\n\r\n                                }\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    <TablePagination\r\n                        rowsPerPageOptions={[10, 25, 100]}\r\n                        component=\"div\"\r\n                        count={data.data.length}\r\n                        rowsPerPage={rowsPerPage}\r\n                        page={page}\r\n                        onChangePage={handleChangePage}\r\n                        onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                    /> \r\n                </paper>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\nexport default TestCSV;\r\n"]},"metadata":{},"sourceType":"module"}
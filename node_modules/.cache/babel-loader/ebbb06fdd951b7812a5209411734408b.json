{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HorchiAbla\\\\Desktop\\\\dashboard1\\\\src\\\\Controle.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { AuthContext } from './context';\nimport Users from \"./pages/Users/Users\"; // import Usersadd from \"./pages/Users/Usersadd\";\n// import UsersUpdate from \"./pages/Users/UsersUpdate\";\n// import Baskets from \"./pages/Baskets/Baskets\";\n\nimport Menuadd from \"./pages/Menu/Menuadd\";\nimport MenuUpdate from \"./pages/Menu/MenuUpdate\";\nimport MenuCSV from \"./pages/Menu/MenuCSV\";\nimport OffresCSV from \"./pages/Offres/OffresCSV\";\nimport Partners from \"./pages/partners/Partners\";\nimport AddAdmin from \"./pages/Administrateur/AddAdmin\";\nimport PartnersUpdate from \"./pages/partners/PartnersUpdate\";\nimport Partnersadd from \"./pages/partners/Partnersadd\";\nimport Offres from \"./pages/Offres/Offres\";\nimport TestValide from \"./pages/TestValide/TestValide\"; // import TestCSV from \"./pages/testCSV/TestCSV\";\n\nimport PartnersCSV from './pages/partners/PartnersCSV';\nimport OffresUpdate from \"./pages/Offres/OffresUpdate\";\nimport Offresadd from \"./pages/Offres/Offresadd\";\nimport DealsCSV from \"./pages/Deals/DealsCSV\";\nimport Deals from \"./pages/Deals/Deals\";\nimport { Home, Menu, Signin } from \"./pages\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Dashboard from \"./containers/Dashboard\";\n\nconst Controle = () => {\n  _s();\n\n  const initialLoginState = {\n    isLoading: true,\n    userName: null,\n    userToken: null\n  };\n\n  const loginReducer = (prevState, action) => {\n    switch (action.type) {\n      case 'RETRIEVE_TOKEN':\n        return { ...prevState,\n          userToken: action.token,\n          isLoading: false\n        };\n\n      case 'LOGIN':\n        return { ...prevState,\n          userName: action.id,\n          userToken: action.token,\n          isLoading: false\n        };\n\n      case 'LOGOUT':\n        return { ...prevState,\n          userName: null,\n          userToken: null,\n          isLoading: false\n        };\n    }\n  };\n\n  const [loginState, dispatch] = React.useReducer(loginReducer, initialLoginState);\n  const authContext = React.useMemo(() => ({\n    signIn: async foundUser => {\n      const userToken = foundUser.userToken;\n      const userName = foundUser.username;\n\n      try {\n        await localStorage.setItem('userToken', userToken);\n        await localStorage.setItem('username', userName);\n      } catch (e) {\n        console.log(e);\n      }\n\n      dispatch({\n        type: 'LOGIN',\n        id: userName,\n        token: userToken\n      });\n    },\n    signOut: async () => {\n      try {\n        await localStorage.removeItem('userToken');\n      } catch (e) {\n        console.log(e);\n      }\n\n      dispatch({\n        type: 'LOGOUT'\n      });\n    }\n  }), []);\n  useEffect(() => {\n    setTimeout(async () => {\n      let userToken;\n      userToken = null;\n\n      try {\n        userToken = await localStorage.getItem('userToken');\n      } catch (e) {\n        console.log(e);\n      }\n\n      dispatch({\n        type: 'RETRIEVE_TOKEN',\n        token: userToken\n      });\n    }, 500);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: authContext,\n    children: loginState.userToken !== null ? /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        component: Dashboard\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Home\",\n        component: Home\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Users\",\n        component: Users\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Partners\",\n        component: Partners\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/PartnersUpdate\",\n        component: PartnersUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Partnersadd\",\n        component: Partnersadd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Deals\",\n        component: Deals\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/DealsCSV\",\n        component: DealsCSV\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Menu\",\n        component: Menu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/AddAdmin\",\n        component: AddAdmin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/TestValide\",\n        component: TestValide\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/PartnersCSV\",\n        component: PartnersCSV\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Menuadd\",\n        component: Menuadd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/MenuUpdate\",\n        component: MenuUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/MenuCSV\",\n        component: MenuCSV\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Offres\",\n        component: Offres\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/Offresadd\",\n        component: Offresadd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/OffresUpdate\",\n        component: OffresUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/OffresCSV\",\n        component: OffresCSV\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      component: Signin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Controle, \"YkPKI2gq8yxV1TGQBOL/Bo5tJfs=\");\n\n_c = Controle;\nexport default Controle;\n\nvar _c;\n\n$RefreshReg$(_c, \"Controle\");","map":{"version":3,"sources":["C:/Users/HorchiAbla/Desktop/dashboard1/src/Controle.js"],"names":["React","useEffect","AuthContext","Users","Menuadd","MenuUpdate","MenuCSV","OffresCSV","Partners","AddAdmin","PartnersUpdate","Partnersadd","Offres","TestValide","PartnersCSV","OffresUpdate","Offresadd","DealsCSV","Deals","Home","Menu","Signin","BrowserRouter","Route","Switch","Dashboard","Controle","initialLoginState","isLoading","userName","userToken","loginReducer","prevState","action","type","token","id","loginState","dispatch","useReducer","authContext","useMemo","signIn","foundUser","username","localStorage","setItem","e","console","log","signOut","removeItem","setTimeout","getItem"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { AuthContext } from './context';\r\nimport Users from \"./pages/Users/Users\";\r\n// import Usersadd from \"./pages/Users/Usersadd\";\r\n// import UsersUpdate from \"./pages/Users/UsersUpdate\";\r\n// import Baskets from \"./pages/Baskets/Baskets\";\r\nimport Menuadd from \"./pages/Menu/Menuadd\";\r\nimport MenuUpdate from \"./pages/Menu/MenuUpdate\";\r\nimport MenuCSV from \"./pages/Menu/MenuCSV\";\r\nimport OffresCSV from \"./pages/Offres/OffresCSV\";\r\nimport Partners from \"./pages/partners/Partners\";\r\nimport AddAdmin from \"./pages/Administrateur/AddAdmin\";\r\nimport PartnersUpdate from \"./pages/partners/PartnersUpdate\";\r\nimport Partnersadd from \"./pages/partners/Partnersadd\";\r\nimport Offres from \"./pages/Offres/Offres\";\r\nimport TestValide from \"./pages/TestValide/TestValide\";\r\n// import TestCSV from \"./pages/testCSV/TestCSV\";\r\nimport PartnersCSV from'./pages/partners/PartnersCSV';\r\nimport OffresUpdate from \"./pages/Offres/OffresUpdate\";\r\nimport Offresadd from \"./pages/Offres/Offresadd\";\r\nimport DealsCSV from\"./pages/Deals/DealsCSV\";\r\nimport Deals from\"./pages/Deals/Deals\";\r\nimport {\r\n    Home,\r\n    Menu,\r\n    Signin\r\n  } from \"./pages\";\r\n  import { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n  \r\n  import Dashboard from \"./containers/Dashboard\";\r\n\r\nconst Controle = () => {\r\n\r\n  const initialLoginState = {\r\n    isLoading: true,\r\n    userName: null,\r\n    userToken: null,\r\n  };\r\n\r\n  const loginReducer = (prevState, action) => {\r\n    switch (action.type) {\r\n      case 'RETRIEVE_TOKEN':\r\n        return {\r\n          ...prevState,\r\n          userToken: action.token,\r\n          isLoading: false,\r\n        };\r\n      case 'LOGIN':\r\n        return {\r\n          ...prevState,\r\n          userName: action.id,\r\n          userToken: action.token,\r\n          isLoading: false,\r\n        };\r\n      case 'LOGOUT':\r\n        return {\r\n          ...prevState,\r\n          userName: null,\r\n          userToken: null,\r\n          isLoading: false,\r\n        };\r\n    }\r\n  };\r\n\r\n  const [loginState, dispatch] = React.useReducer(loginReducer, initialLoginState);\r\n\r\n  const authContext = React.useMemo(() => ({\r\n    signIn: async (foundUser) => {\r\n      const userToken = foundUser.userToken;\r\n      const userName = foundUser.username;\r\n      try {\r\n        await localStorage.setItem('userToken', userToken);\r\n        await localStorage.setItem('username', userName);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      dispatch({ type: 'LOGIN', id: userName, token: userToken });\r\n    },\r\n    signOut: async () => {\r\n      try {\r\n        await localStorage.removeItem('userToken');\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      dispatch({ type: 'LOGOUT' });\r\n    },\r\n  \r\n  }), []);\r\n\r\n  useEffect(() => {\r\n    setTimeout(async () => {\r\n      let userToken;\r\n      userToken = null;\r\n      try {\r\n        userToken = await localStorage.getItem('userToken');\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n      dispatch({ type: 'RETRIEVE_TOKEN', token: userToken });\r\n    }, 500);\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={authContext}>\r\n        {loginState.userToken !== null?\r\n          <Switch >\r\n          <Route path=\"/\" component={Dashboard} />\r\n          <Route exact path=\"/Home\" component={Home} />\r\n          <Route exact path=\"/Users\" component={Users} />\r\n          <Route exact path=\"/Partners\" component={Partners} />\r\n          <Route exact path=\"/PartnersUpdate\" component={PartnersUpdate} />\r\n          <Route exact path=\"/Partnersadd\" component={Partnersadd} />\r\n          <Route exact path=\"/Deals\" component={Deals} />\r\n          <Route exact path=\"/DealsCSV\" component={DealsCSV} />\r\n          <Route exact path=\"/Menu\" component={Menu} />\r\n          {/* <Route exact path=\"/TestCSV\" component={TestCSV} /> */}\r\n          <Route exact path=\"/AddAdmin\" component={AddAdmin} />\r\n          <Route exact path=\"/TestValide\" component={TestValide} />\r\n          <Route exact path=\"/PartnersCSV\" component={PartnersCSV} />\r\n          <Route exact path=\"/Menuadd\" component={Menuadd} />\r\n          <Route exact path=\"/MenuUpdate\" component={MenuUpdate} />\r\n          <Route exact path=\"/MenuCSV\" component={MenuCSV} />\r\n          <Route exact path=\"/Offres\" component={Offres} />\r\n          <Route exact path=\"/Offresadd\" component={Offresadd} />\r\n          <Route exact path=\"/OffresUpdate\" component={OffresUpdate} />\r\n          <Route exact path=\"/OffresCSV\" component={OffresCSV} />\r\n          {/* <Route path=\"/\" component={Dashboard} /> */}\r\n        </Switch>\r\n        :\r\n          <Route path=\"/\" component={Signin} />\r\n        }\r\n    </AuthContext.Provider >\r\n  );\r\n\r\n}\r\n\r\nexport default Controle;\r\n"]},"metadata":{},"sourceType":"module"}
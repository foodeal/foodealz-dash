{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// // import {\n// //  UsersCard\n// // } from \"./pages/Users\";\n// import Table from '@material-ui/core/Table';\n// import TableBody from '@material-ui/core/TableBody';\n// import TableCell from '@material-ui/core/TableCell';\n// import TableHead from '@material-ui/core/TableHead';\n// import TableRow from '@material-ui/core/TableRow';\n// import Paper from '@material-ui/core/Paper';\n// import TableContainer from '@material-ui/core/TableContainer';\n// import TablePagination from '@material-ui/core/TablePagination';\n// import Typography from '@material-ui/core/Typography';\n// import { Link } from \"react-router-dom\";\n// import { withStyles, makeStyles } from '@material-ui/core/styles';\n// import { Button, ThemeProvider } from '@material-ui/core';\n// import EditIcon from '@material-ui/icons/Edit';\n// import ClearIcon from '@material-ui/icons/Clear';\n// import Snackbar from '@material-ui/core/Snackbar';\n// import MuiAlert from '@material-ui/lab/Alert';\n// import axios from 'axios';\n// import { Dialog } from '@material-ui/core';\n// import { TextField } from '@material-ui/core';\n// import DialogActions from '@material-ui/core/DialogActions';\n// import DialogContent from '@material-ui/core/DialogContent';\n// import DialogContentText from '@material-ui/core/DialogContentText';\n// import DialogTitle from '@material-ui/core/DialogTitle';\n// import config from '../config';\n// const DialogAdd = (item) => {\n//   const [open, setOpen] = React.useState(false);\n//   const [open1, setOpen1] = React.useState(false);\n//   const [data, setData] = React.useState({\n//         error: '',\n//         data: [],\n//         temp: [],\n//         invenduselected: '',\n//         Invendulist:[],\n//         InvenduChoisie:[],\n//         error: null,\n//         partnerId: \"\",\n//         restaurant:null,\n//         name: \"\",\n//         typePar: \"\",\n//         commission_ratePar: \"\",\n//         discountPar: \"\",\n//         startingdate:\"\",\n//         expireddate:\"\"\n//       });\n//   const [dealdata, setDealdata] = React.useState({\n//     imageurl: \"\",\n//     discount: \"\",\n//     PriceAfterDiscount: null,\n//     PriceBeforeDiscount: null,\n//     description: \"\",\n//     deal_description: \"\",\n//     restaurant_id: \"\",\n//   });\n//   const imagechange = (e) => {\n//     setDealdata({\n//       ...dealdata,\n//       imageurl: e\n//     })\n//   }\n//   const discountchange = (e) => {\n//     setDealdata({\n//       ...dealdata,\n//       discount: e\n//     })\n//   }\n//   const afterchange = (e) => {\n//     setDealdata({\n//       ...dealdata,\n//       PriceAfterDiscount: e\n//     })\n//   }\n//   const beforechange = (e) => {\n//     setDealdata({\n//       ...dealdata,\n//       PriceBeforeDiscount: e\n//     })\n//   }\n//   const descriptionchange = (e) => {\n//     setDealdata({\n//       ...dealdata,\n//       description: e\n//     })\n//   }\n//   const dealdescrichange = (e) => {\n//     setDealdata({\n//       ...dealdata,\n//       deal_description: e\n//     })\n//   }\n//   const changeidpartner = (e) => {\n//     setData({\n//       ...data,\n//       restaurant: e\n//     })\n//     getInvendu(parseInt(e))\n//   }\n//   const ChangeInvendu = (e) => {\n//     let newdata = data.Invendulist.filter(item =>{return item.nom  == e})\n//     setData({\n//       ...data,\n//       invenduselected: e,\n//       InvenduChoisie: newdata,\n//       discountPar: newdata[0].discount\n//     })\n//     setDealdata({\n//       ...dealdata,\n//       imageurl: newdata[0].image,\n//       discount:newdata[0].discount,\n//       PriceAfterDiscount: newdata[0].PriceAfterDiscoun,\n//       PriceBeforeDiscount: newdata[0].PriceBeforeDiscount,\n//       deal_description: newdata[0].description,\n//       description: e\n//     })\n//   }\n//   const getData = async () => {\n//     const url = `https://api.foodealzapi.com/activedeals` ;\n//     await fetch(url)\n//       .then(res => res.json())\n//       .then(res => {\n//         console.log(res)\n//         setData({\n//           ...data,\n//           data: res,\n//           temp: res,\n//         });\n//       })\n//       .catch(error => {\n//         setData({\n//           ...data,\n//           error: 'Error Loading content',\n//         })\n//       })\n//   };\n//   const getInvendu = async (id) => {\n//     const url = `https://api.foodealzapi.com/Invendus/${id}`;\n//     await fetch(url)\n//       .then(res => res.json())\n//       .then(res => {\n//         setData({\n//           ...data,\n//           Invendulist: res,\n//         });\n//       })\n//       .catch(error => {\n//         setData({\n//           ...data,\n//           error: 'Error Loading content',\n//         })\n//       })\n//   };\n//   console.log('id',item)\n//   const handleClose = (event, reason) => {\n//     if (reason === 'clickaway') {\n//       return;\n//     }\n//     setOpen1(false);\n//   };\n//   const handleClose1 = () => {\n//     setOpen(false);\n//   };\n//   function Alert(props) {\n//     return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n//   }\n//   const handleClick = () => {\n//     setOpen1(true);\n//   };\n//   const addDeal = () => {\n//     axios.post(`https://api.foodealzapi.com/deals/dealcreate`, {\n//       restaurant_id: parseInt(data.restaurant),\n//       imageurl: dealdata.imageurl,\n//       discount:dealdata.discount,\n//       PriceAfterDiscount: dealdata.PriceAfterDiscount,\n//       PriceBeforeDiscount: dealdata.PriceBeforeDiscount,\n//       description: dealdata.description,\n//       deal_description: dealdata.deal_description,\n//       startingdate: data.startingdate,\n//       expireddate: data.expireddate,\n//     })\n//       .then(() => {\n//         console.log(\"added successfully\");\n//       })\n//       .catch(error => {\n//         console.log(\" problem in posting \" + error)\n//       });\n//   }\n//   const global = () => {\n//     addDeal();\n//     handleClick();\n//     handleClose1();\n//   };\n//   return (\n// <div>\n//       </div>\n//   );\n// };\n// export default DialogAdd;","map":{"version":3,"sources":["C:/Users/HorchiAbla/Desktop/dashboard1/src/pages/Deals/DialogAdd.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAGA;AACA;AAGA;AAKA;AACA;AACA","sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// // import {\r\n// //  UsersCard\r\n// // } from \"./pages/Users\";\r\n\r\n// import Table from '@material-ui/core/Table';\r\n// import TableBody from '@material-ui/core/TableBody';\r\n// import TableCell from '@material-ui/core/TableCell';\r\n// import TableHead from '@material-ui/core/TableHead';\r\n// import TableRow from '@material-ui/core/TableRow';\r\n// import Paper from '@material-ui/core/Paper';\r\n// import TableContainer from '@material-ui/core/TableContainer';\r\n// import TablePagination from '@material-ui/core/TablePagination';\r\n// import Typography from '@material-ui/core/Typography';\r\n// import { Link } from \"react-router-dom\";\r\n// import { withStyles, makeStyles } from '@material-ui/core/styles';\r\n// import { Button, ThemeProvider } from '@material-ui/core';\r\n// import EditIcon from '@material-ui/icons/Edit';\r\n// import ClearIcon from '@material-ui/icons/Clear';\r\n// import Snackbar from '@material-ui/core/Snackbar';\r\n// import MuiAlert from '@material-ui/lab/Alert';\r\n// import axios from 'axios';\r\n\r\n// import { Dialog } from '@material-ui/core';\r\n// import { TextField } from '@material-ui/core';\r\n// import DialogActions from '@material-ui/core/DialogActions';\r\n// import DialogContent from '@material-ui/core/DialogContent';\r\n// import DialogContentText from '@material-ui/core/DialogContentText';\r\n// import DialogTitle from '@material-ui/core/DialogTitle';\r\n// import config from '../config';\r\n\r\n\r\n\r\n// const DialogAdd = (item) => {\r\n\r\n//   const [open, setOpen] = React.useState(false);\r\n//   const [open1, setOpen1] = React.useState(false);\r\n//   const [data, setData] = React.useState({\r\n//         error: '',\r\n//         data: [],\r\n//         temp: [],\r\n//         invenduselected: '',\r\n//         Invendulist:[],\r\n//         InvenduChoisie:[],\r\n//         error: null,\r\n//         partnerId: \"\",\r\n//         restaurant:null,\r\n//         name: \"\",\r\n//         typePar: \"\",\r\n//         commission_ratePar: \"\",\r\n//         discountPar: \"\",\r\n//         startingdate:\"\",\r\n//         expireddate:\"\"\r\n//       });\r\n    \r\n\r\n//   const [dealdata, setDealdata] = React.useState({\r\n//     imageurl: \"\",\r\n//     discount: \"\",\r\n//     PriceAfterDiscount: null,\r\n//     PriceBeforeDiscount: null,\r\n//     description: \"\",\r\n//     deal_description: \"\",\r\n//     restaurant_id: \"\",\r\n\r\n//   });\r\n\r\n//   const imagechange = (e) => {\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       imageurl: e\r\n//     })\r\n//   }\r\n//   const discountchange = (e) => {\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       discount: e\r\n//     })\r\n//   }\r\n\r\n//   const afterchange = (e) => {\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       PriceAfterDiscount: e\r\n//     })\r\n//   }\r\n//   const beforechange = (e) => {\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       PriceBeforeDiscount: e\r\n//     })\r\n//   }\r\n\r\n//   const descriptionchange = (e) => {\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       description: e\r\n//     })\r\n//   }\r\n//   const dealdescrichange = (e) => {\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       deal_description: e\r\n//     })\r\n//   }\r\n \r\n \r\n//   const changeidpartner = (e) => {\r\n//     setData({\r\n//       ...data,\r\n//       restaurant: e\r\n//     })\r\n//     getInvendu(parseInt(e))\r\n\r\n//   }\r\n\r\n//   const ChangeInvendu = (e) => {\r\n//     let newdata = data.Invendulist.filter(item =>{return item.nom  == e})\r\n//     setData({\r\n//       ...data,\r\n//       invenduselected: e,\r\n//       InvenduChoisie: newdata,\r\n//       discountPar: newdata[0].discount\r\n//     })\r\n//     setDealdata({\r\n//       ...dealdata,\r\n//       imageurl: newdata[0].image,\r\n//       discount:newdata[0].discount,\r\n//       PriceAfterDiscount: newdata[0].PriceAfterDiscoun,\r\n//       PriceBeforeDiscount: newdata[0].PriceBeforeDiscount,\r\n//       deal_description: newdata[0].description,\r\n//       description: e\r\n//     })\r\n    \r\n//   }\r\n\r\n//   const getData = async () => {\r\n//     const url = `https://api.foodealzapi.com/activedeals` ;\r\n//     await fetch(url)\r\n//       .then(res => res.json())\r\n//       .then(res => {\r\n//         console.log(res)\r\n//         setData({\r\n//           ...data,\r\n//           data: res,\r\n//           temp: res,\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         setData({\r\n//           ...data,\r\n//           error: 'Error Loading content',\r\n//         })\r\n//       })\r\n//   };\r\n//   const getInvendu = async (id) => {\r\n//     const url = `https://api.foodealzapi.com/Invendus/${id}`;\r\n//     await fetch(url)\r\n//       .then(res => res.json())\r\n//       .then(res => {\r\n//         setData({\r\n//           ...data,\r\n//           Invendulist: res,\r\n//         });\r\n//       })\r\n//       .catch(error => {\r\n//         setData({\r\n//           ...data,\r\n//           error: 'Error Loading content',\r\n//         })\r\n//       })\r\n//   };\r\n\r\n \r\n\r\n//   console.log('id',item)\r\n//   const handleClose = (event, reason) => {\r\n//     if (reason === 'clickaway') {\r\n//       return;\r\n//     }\r\n\r\n//     setOpen1(false);\r\n//   };\r\n//   const handleClose1 = () => {\r\n//     setOpen(false);\r\n\r\n//   };\r\n\r\n  \r\n//   function Alert(props) {\r\n//     return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n//   }\r\n//   const handleClick = () => {\r\n//     setOpen1(true);\r\n//   };\r\n//   const addDeal = () => {\r\n//     axios.post(`https://api.foodealzapi.com/deals/dealcreate`, {\r\n//       restaurant_id: parseInt(data.restaurant),\r\n//       imageurl: dealdata.imageurl,\r\n//       discount:dealdata.discount,\r\n//       PriceAfterDiscount: dealdata.PriceAfterDiscount,\r\n//       PriceBeforeDiscount: dealdata.PriceBeforeDiscount,\r\n//       description: dealdata.description,\r\n//       deal_description: dealdata.deal_description,\r\n//       startingdate: data.startingdate,\r\n//       expireddate: data.expireddate,\r\n     \r\n      \r\n//     })\r\n//       .then(() => {\r\n//         console.log(\"added successfully\");\r\n//       })\r\n//       .catch(error => {\r\n//         console.log(\" problem in posting \" + error)\r\n\r\n//       });\r\n\r\n//   }\r\n//   const global = () => {\r\n    \r\n//     addDeal();\r\n//     handleClick();\r\n//     handleClose1();\r\n\r\n\r\n//   };\r\n\r\n\r\n//   return (\r\n// <div>\r\n\r\n     \r\n//       </div>\r\n  \r\n\r\n\r\n\r\n//   );\r\n// };\r\n// export default DialogAdd;"]},"metadata":{},"sourceType":"module"}